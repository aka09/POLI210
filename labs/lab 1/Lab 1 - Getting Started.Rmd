---
title: "Lab 1: Getting Started"
date: "POLI210, Week 3, Fall 2021"
output: pdf_document
urlcolor: blue
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Welcome to Poli 210! As a complement to the lectures, this course includes a lab component. A major part of the work many political scientists do involves fielding surveys, running experiments, analyzing data collected from secondary sources (e.g., government agencies, NGOs, other researchers, etc.), and coding observations of political events. To work with this data, we need a solid foundation in the basics of quantitative data analysis. For our purposes, this includes an introduction to elementary statistics and basic knowledge of a statistical software. Researchers, data scientists, and employers in a variety of industry settings increasingly rely on R, a free, open-source software to manage and analyse data. R is an attractive alternative to expensive proprietary software (i.e., SPSS, STATA). Because R is open-source, the scientific community has come together to offer a powerful selection of statistical and graphical packages that are updated quickly as methodological advances occur.  By the end of this course, you will have developed a highly marketable skill to include on your resumes. 

For this course, you must be registered for one of the lab sections in Minerva. The lab work will be essential for successful completion of the assignments. Each week during your scheduled lab time, your TA will walk you through the lab materials.

# How do I get R? 

To get R on your Mac, Windows or Linux machine, visit http://www.cran.r-project.org. Once you have installed R on your machine, if you open the application, you may notice a blank text editor where code can be entered. That is R in its natural form and has everything you need to start writing commands. To make our experience more enjoyable, we will use R through an interface called RStudio. To download RStudio on your machine, navigate to the downloads page from http://www.rstudio.com. A step-by-step instructional video on how to install both R and RStudio can be found by [clicking on this link](https://www.youtube.com/watch?v=d-u_7vdag-0). You must intall both R and RStudio on your own computer.

If you use an iPad or some other device for which R/RStudio are not available, you can use [RStudio Cloud](https://rstudio.cloud/plans/free), which will allow you to run R/RStudio directly in your browser. 

# How do I use R? 

R is a very powerful tool for data analysis. Plus, it is free! Because it is a programming language, we need to familiarize ourselves with the basic rules to writing code in R.

We can use R as a calculator to perform standard mathematical operations. For example:

```{r}
2 + 3
```

R outputs the results beginning with ##. Note that R ignores the spacing when executing a command. You should pay attention to spacing, however, so that your code is clear and easy to read. It is good practice to separate numbers and operators with spaces, for instance (as we did above). 

Of course, we can perform more complex mathematical operations, such as:

```{r}
(8 / 78) ^ 2 * 5
```

## Functions in R

In addition to the basic arithmetic operators (i.e., +, -, etc.), we can draw on different functions that are stored in R. Functions contain the instructions that tell R what to do. Functions take some kind of input (or multiple inputs) and produces an output. Think of functions as programs or commands. You can write your own functions in R, which is part of what makes R so powerful for data analysis. For our purposes, however, we will rely on functions that have been written by others. One of R’s functions, `sqrt()`, can be used to tell R to calculate the square root of a number. What's inside the parentheses are called "arguments" -- what the function will use as input in order to produce some output.

```{r}
sqrt(16) # what is placed inside the () is the input
```

Another feature of R that you will find helpful is the ability to comment on your code, as in the example above. These comments or annotations are helpful as you work through your code. Be kind to your future self; leave comments and annotations to help you understand your own work. To annotate your code, simply use the # sign. R will ignore anything that comes after the #, recognizing it as a comment.

## Objects in R

Of course, R is much more than a fancy calculator. A key feature of R is that it is an object-oriented programming (OOP) language. This means R stores information as objects. To assign values to an object, use the <- sign (keyboard shorcut: command/control + dash):

```{r}
a <- 5 # Assign the value 5 to an object called 'a'
a # call 'a' to see what is stored in this object.
```

```{r}
b <- 6 * 3
b
```

You can also call an object by using the print() function^[As you learn more about working in R you will discover that there are often multiple ways to get to the same result.]:

```{r}
print(a)
```

In the example above, we instructed R to make two objects, represented by the letters a and b. Because we stored numeric values in a and b, R can perform arithmetic operations on them. To illustrate, lets store the product of a and b into a third object, called c:

```{r}
a * b
c <- a * b
c
```

We can also store non-numeric information as objects. In fact, an object can be a value, a set of values (called a vector), lists, dataframes, plots, and even whole computer programs! Anything you can save is an object, and R works by calling these objects and using them for different tasks. It is important to remember that R is case sensitive. In the example below ‘instructor’ is stored as an object, but ‘Instructor’ is not.

```{r}
instructor <- "Olivier" # Note the quotation marks.
instructor # Case sensitive. If we tried to call 'Instructor,' we would get an error message.
```

We can store a collection of information, called a vector, as a single object. Vectors consist of a series of inputs. They can be numeric or non-numeric and non-numeric inputs must be put in quotations. To enter multiple values into a single object, we use the function c(), which stands for “concatenate,” and separate each value with a comma:

```{r}
obj1 <- c(1, 2, 3, 4, 5)
obj1 # Note that an object cannot begin with a number
```

```{r}
obj2 <- c("Emma", "Thomas", "Nick")
obj2
```

Another way to store a vector of numbers is to use the : symbol and specify a range. This tells R we want a sequence of every number between, say, 1 and 5:

```{r}
obj1b <- 1:5
obj1b
```

Because obj1b is a vector of numbers, we can conduct arithemetic operations on it

```{r}
obj3 <- 10*obj1 # 10 times value 1; 10 times value 2; 10 times value 3, etc.
obj3
```

Another way of storing a sequence of numbers as an object is to use the seq() function. R stores helpful documentation for every function which you can access by typing ?seq().^[You can access the documentation for any R function by typing ?FUNCTION() into R’s command line.] This is useful because as we advance through the course we will learn to use different arguments that are available in each function. The documentation tells us what arguments are available for a particular function and what they do. We do not need to use all of the arguments available in a specific function, so it is important to review the documentation to learn about different functions. 

Imagine we want to store a sequence of numbers from 0 to 100 that increases in intervals of 10:

```{r}
numbers <- seq(from = 0, to = 100, by = 10) # Sequence of numbers from 0 to 100, increments of 10.
numbers
```

As you become familiar with R you will find certain functions particularly useful in your research. Once you know the proper order of arguments in a function, you can shorten your code by leaving out the specific instructions.

```{r}
numbers2 <- seq(0, 100, 10) # Compare this code to the one above it.
numbers2
```

Finally, let’s look at how we can “pull out” select observations from a list, vector or dataframe. This is called subsetting and is an extremely useful tool when working with datasets. For example, imagine you are working with survey data and want create two smaller datasets, one with the responses from males and another with the responses from females. We will  learn how to do this later, but for now let’s practice with a basic example by subsetting a vector. Let’s create a vector starting at 1 and ending in 1,000, which increases by 1 each time.

```{r}
my.list <- seq(1, 1000, 1) # Notice that we can also use '.' in our object names.
```

Think of subsetting as going “inside” an object and calling something that is stored there. What if you wanted to extract the 50th number in the sequence? To go inside of an object, we use square brackets [ ].

```{r}
my.list[50]
```

We can also extract a range of elements stored in the object. For example, what if we wanted to extract the 10th to 20th element in the vector?

```{r}
my.list[10:20]
```

We can save this subset as a new object:

```{r}
my.list2 <- my.list[10:20]
```

We can integrate the `c()` function in order to subset selected elements only:

```{r}
my.list[c(1,5,6)] # Extracts the first, fifth, and sixth elements from the object
```

Again, we can store this subset as a new object:

```{r}
my.list3 <- my.list[c(1, 5, 6)]
```

The same logic applies if we have a vector containing non-numeric inputs.

```{r}
class.list <- c("Jon", "Emma", "Olivier", "Marie", "Julie", "Mark")
```

Subset the class list into two sets: a list of traditionally male names and a list of traditionally female names:

```{r}
class.list.males <- class.list[c(1, 3, 6)]
class.list.females <- class.list[c(2, 4, 5)]
class.list.males
class.list.females
```

## Review

Learning R takes patience as well as practice. Even experienced users find themselves typing ‘How to do X in R’ into Google! The great thing about working with data in R is that there are so many tutorials and how-to guides available that any issue you encounter has certainly been answered online by more experienced users (but if in doubt, come to office hours).

Try the following practice problems on your own. The answer code is below.

1. Create an object called x1 that contains the numbers 1, 10, and 20.
2. Create an object called x2 that contains every number in the sequence 100, 95, 90, 85 . . . -95, -100.
Use the seq() function.
3. Create an object called x3 that contains your name.
4. Create an object called x4 that contains the 2nd element from x1 and the 10th element from x2.

### Answers

```{r}
x1 <- c(1, 10, 20)
x2 <- seq(100, -100, -5)
x3 <- "Olivier"
x4 <- c(x1[2], x2[10])
```



















